{"version":3,"sources":["webpack:///./src/images/highfive.png","webpack:///./src/components/Disqus/Disqus.js","webpack:///./src/components/Disqus/index.js","webpack:///./src/templates/post_en.js","webpack:///./src/hooks/index.js","webpack:///./src/utils/sharedPropTypes.js","webpack:///./node_modules/gatsby-plugin-firebase/index.js"],"names":["module","exports","Disqus","url","id","useEffect","d","s","document","createElement","src","setAttribute","Date","head","body","appendChild","disqusConfig","highFiveStyle","css","image","Post","props","console","log","post","data","wordpressWpPostsEn","title","location","href","useFirebaseCounter","counter","setCounter","description","excerpt","small","largeMgBottom","secondTitle","dangerouslySetInnerHTML","__html","text","dateTime","date","className","content","onClick","pageQuery","useState","high5","setHigh5","qnty","state","setState","useFirebase","firebase","database","ref","once","then","snapshot","val","useGetFirebase","set","v","PropTypes","shape","string","wordpressPost","isRequired","FirebaseContext","require","default"],"mappings":"gFAAAA,EAAOC,QAAU,IAA0B,wD,2DC+B5BC,EAZA,SAAC,GAAiB,IAAfC,EAAc,EAAdA,IAAKC,EAAS,EAATA,GAIrB,OAHAC,qBAAU,YAjBS,SAAC,GAAiB,IAQ/BC,EACFC,EATgC,EAAdJ,IAAc,EAATC,GAQrBE,EAAIE,UACND,EAAID,EAAEG,cAAc,WACpBC,IAAM,mDACRH,EAAEI,aAAa,kBAAmB,IAAIC,OACrCN,EAAEO,MAAQP,EAAEQ,MAAMC,YAAYR,GAM/BS,CAAa,CAAEb,MAAKC,SACnB,CAACD,EAAKC,IACF,yBAAKA,GAAG,mBCvBjB,mC,4pBCUA,IAAMa,EAAgBC,YAAH,IAEOC,KAyDXC,UA7CF,SAAAC,GACXC,QAAQC,IAAIF,GACZ,IAAMG,EAAOH,EAAMI,KAAKC,mBAClBtB,EAAKoB,EAAKpB,GACVuB,EAAQH,EAAKG,MACbxB,EAAMkB,EAAMO,SAASC,KALP,EAMUC,YAAmB,CAAE1B,KAAIuB,UAAhDI,EANa,KAMJC,EANI,KAQpB,OACE,YAAC,IAAD,CAAUL,MAAOH,EAAKG,MAAOM,YAAaT,EAAKU,SAC7C,YAAC,IAAD,CAAWC,OAAK,GACd,uBAASjB,IAAKkB,KACZ,kBAAIlB,IAAKmB,IAAaC,wBAAyB,CAAEC,OAAQZ,KACzD,iBACET,IAAKA,YAAF,IACCsB,MAFN,eAOE,oBAAMC,SAAUjB,EAAKkB,MAArB,IAA6BlB,EAAKkB,OAGpC,mBACEC,UAAU,eACVzB,IAAKsB,IACLF,wBAAyB,CAAEC,OAAQf,EAAKoB,YAG5C,mBAAK1B,IAAKkB,KACR,sBAAQlB,IAAKD,EAAe4B,QAASb,GAArC,aAGA,oBAAMd,IAAKsB,KACRT,EADH,aACsBA,EAAU,EAAI,IAAM,KAG5C,YAAC,IAAD,CAAQ5B,IAAKA,EAAKC,GAAIA,OAUvB,IAAM0C,EAAS,c,kCCvEtB,8DAkBahB,EAAqB,SAAC,GAAmB,IAAjB1B,EAAgB,EAAhBA,GAAIuB,EAAY,EAAZA,MAAY,EACzBoB,mBAAS,GAA5BC,EAD4C,KACrCC,EADqC,KAE3CC,EAjBoB,SAAC,GAAY,IAAV9C,EAAS,EAATA,GAAS,EACd2C,mBAAS,CAAEG,KAAM,IAApCC,EADiC,KAC1BC,EAD0B,KAYxC,OAVAC,uBAAY,SAAAC,GACVA,EACGC,WACAC,IAAIpD,GACJqD,KAAK,SACLC,MAAK,SAAAC,GACJP,EAASO,EAASC,OAAS,CAAEV,KAAM,UAIlCC,EAKUU,CAAe,CAC9BzD,OADM8C,KAIR7C,qBAAU,WACR4C,EAASC,KACR,CAACA,IAoBJ,OAhBAG,uBACE,SAAAC,GACMN,GACFM,EACGC,WACAC,IAAIpD,GACJ0D,IAAI,CACHZ,KAAMF,EACN5C,KACAuB,YAIR,CAACqB,IAGI,CAACA,EAlBY,kBAAMC,GAAS,SAAAc,GAAC,OAAIA,EAAI,S,kCC5B9C,yBAGYC,IAAUC,MAAM,CACxBpC,KAAMmC,IAAUE,SAEZF,IAAUC,MAAM,CACpBE,cAAeH,IAAUC,MAAM,CAC7B7D,GAAI4D,IAAUE,OACdvC,MAAOqC,IAAUE,OACjBtB,QAASoB,IAAUE,OACnBhC,QAAS8B,IAAUE,OACnBxB,KAAMsB,IAAUE,WAEjBE,Y,qBCdLnE,EAAQoE,gBAAkBC,EAAQ,QAAoCC,QACtEtE,EAAQoD,YAAciB,EAAQ,QAAoCjB","file":"component---src-templates-post-en-js-5575f2cb4656a139ed4c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/highfive-d3d89f404204045deb9d9f86e56af8ab.png\";","import React, { useEffect } from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst disqusConfig = ({ url, id }) => {\n  // eslint-disable-next-line no-unused-vars\n  var disqus_config = function() {\n    this.page.url = url; // Replace PAGE_URL with your page's canonical URL variable\n    this.page.identifier = id; // Replace PAGE_IDENTIFIER with your page's unique identifier variable\n  };\n\n  (function() {\n    var d = document,\n      s = d.createElement(\"script\");\n    s.src = \"https://sergiojunior-netlify.disqus.com/embed.js\";\n    s.setAttribute(\"data-timestamp\", +new Date());\n    (d.head || d.body).appendChild(s);\n  })();\n};\n\nconst Disqus = ({ url, id }) => {\n  useEffect(() => {\n    disqusConfig({ url, id });\n  }, [url, id]);\n  return <div id=\"disqus_thread\"></div>;\n};\n\nDisqus.propTypes = {\n  url: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired\n};\n\nexport default Disqus;\n","export { default } from \"./Disqus\";\n","/** @jsx jsx */\nimport { jsx, css } from \"@emotion/core\";\nimport { graphql } from \"gatsby\";\nimport Template from \"../components/Template\";\nimport { Container, secondTitle, text, largeMgBottom } from \"../design\";\nimport Disqus from \"../components/Disqus\";\nimport { useFirebaseCounter } from \"../hooks\";\nimport image from \"./../images/highfive.png\";\nimport { postPropTypes } from \"../utils/sharedPropTypes\";\n\nconst highFiveStyle = css`\n  cursor: pointer;\n  background-image: url(${image});\n  border: 0;\n  width: 40px;\n  height: 40px;\n  border-radius: 4px;\n  background-position: center;\n  background-size: cover;\n  background-color: #c1d6c6;\n  font-size: 0;\n  margin-right: 15px;\n`;\n\nconst Post = props => {\n  console.log(props);\n  const post = props.data.wordpressWpPostsEn;\n  const id = post.id;\n  const title = post.title;\n  const url = props.location.href;\n  const [counter, setCounter] = useFirebaseCounter({ id, title });\n\n  return (\n    <Template title={post.title} description={post.excerpt}>\n      <Container small>\n        <article css={largeMgBottom}>\n          <h1 css={secondTitle} dangerouslySetInnerHTML={{ __html: title }} />\n          <p\n            css={css`\n              ${text};\n              color: var(--gray);\n            `}\n          >\n            Publicado em\n            <time dateTime={post.date}> {post.date}</time>\n          </p>\n\n          <div\n            className=\"post-content\"\n            css={text}\n            dangerouslySetInnerHTML={{ __html: post.content }}\n          />\n        </article>\n        <div css={largeMgBottom}>\n          <button css={highFiveStyle} onClick={setCounter}>\n            High five\n          </button>\n          <span css={text}>\n            {counter} high five{counter > 0 ? \"s\" : \"\"}\n          </span>\n        </div>\n        <Disqus url={url} id={id} />\n      </Container>\n    </Template>\n  );\n};\n\nPost.propTypes = postPropTypes;\n\nexport default Post;\n\nexport const pageQuery = graphql`\n  query($id: String!) {\n    wordpressWpPostsEn(id: { eq: $id }) {\n      id\n      title\n      content\n      excerpt\n      date(formatString: \"MM-DD-YYYY\")\n    }\n  }\n`;\n","import { useFirebase } from \"gatsby-plugin-firebase\";\nimport { useState, useEffect } from \"react\";\n\nexport const useGetFirebase = ({ id }) => {\n  const [state, setState] = useState({ qnty: 0 });\n  useFirebase(firebase => {\n    firebase\n      .database()\n      .ref(id)\n      .once(\"value\")\n      .then(snapshot => {\n        setState(snapshot.val() || { qnty: 0 });\n      });\n  });\n\n  return state;\n};\n\nexport const useFirebaseCounter = ({ id, title }) => {\n  const [high5, setHigh5] = useState(0);\n  const { qnty } = useGetFirebase({\n    id\n  });\n\n  useEffect(() => {\n    setHigh5(qnty);\n  }, [qnty]);\n\n  const submitHigh5 = () => setHigh5(v => v + 1);\n\n  useFirebase(\n    firebase => {\n      if (high5) {\n        firebase\n          .database()\n          .ref(id)\n          .set({\n            qnty: high5,\n            id,\n            title\n          });\n      }\n    },\n    [high5]\n  );\n\n  return [high5, submitHigh5];\n};\n","import PropTypes from \"prop-types\";\n\nexport const postPropTypes = {\n  location: PropTypes.shape({\n    href: PropTypes.string\n  }),\n  data: PropTypes.shape({\n    wordpressPost: PropTypes.shape({\n      id: PropTypes.string,\n      title: PropTypes.string,\n      content: PropTypes.string,\n      excerpt: PropTypes.string,\n      date: PropTypes.string\n    })\n  }).isRequired\n};\n","exports.FirebaseContext = require(\"./src/components/FirebaseContext\").default\nexports.useFirebase = require(\"./src/components/FirebaseContext\").useFirebase\n"],"sourceRoot":""}